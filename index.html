<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>Honey's Nook</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;500;700&family=Caveat:wght@700&display=swap');
        
        body { 
            font-family: 'Quicksand', sans-serif; 
            transition: background 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-tap-highlight-color: transparent;
        }

        .handwritten { font-family: 'Caveat', cursive; }
        
        .bg-honey-lemon { background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); }
        .theme-honey { background: linear-gradient(135deg, #fff1f2 0%, #ffe4e6 100%); }
        .theme-nature { background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); }
        .theme-food { background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%); }

        @keyframes revealCard {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .polaroid-card {
            animation: revealCard 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) backwards;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.5s ease;
            cursor: pointer;
            will-change: transform;
        }

        @media (hover: hover) {
            .polaroid-card:hover { 
                transform: translateY(-20px) rotate(-2deg);
                box-shadow: 0 30px 60px -12px rgba(180, 83, 9, 0.3);
                z-index: 10;
            }
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        #detailModal.active { opacity: 1; pointer-events: auto; }
        #detailModal.active .modal-content { transform: scale(1); }
    </style>
</head>
<body id="mainBody" class="bg-honey-lemon min-h-screen text-stone-800 pb-12">

    <div id="detailModal" class="fixed inset-0 z-50 flex items-start justify-center p-4 pt-20 md:pt-10 bg-stone-900/60 backdrop-blur-lg opacity-0 pointer-events-none transition-all duration-500 overflow-y-auto" onclick="closeDetail()">
        <button class="fixed top-6 right-6 text-white text-3xl p-2">
            <i class="fa-solid fa-xmark"></i>
        </button>
        <div class="modal-content bg-white p-3 pb-16 md:pb-24 rounded-sm shadow-2xl max-w-lg w-full transform scale-90 transition-transform duration-500 border-b-[30px] border-white mb-12 mx-auto" onclick="event.stopPropagation()">
            <div class="aspect-[4/5] overflow-hidden bg-stone-100 flex items-center justify-center">
                <div id="modalContainer" class="w-full h-full"></div>
            </div>
            <div class="mt-8 text-center px-4">
                <h2 id="modalTitle" class="handwritten text-4xl md:text-5xl text-stone-800"></h2>
                <p id="modalDate" class="text-xs uppercase tracking-[0.3em] font-black text-amber-600/50 mt-4"></p>
                <div class="mt-6 flex justify-center gap-4">
                    <span id="modalCat" class="bg-amber-50 text-amber-600 px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border border-amber-100"></span>
                </div>
            </div>
        </div>
    </div>

    <header class="pt-12 pb-8 px-6 text-center overflow-hidden">
        <div class="relative inline-block group">
            <h1 id="pageTitle" class="text-4xl md:text-6xl font-extrabold text-amber-900 tracking-tight mb-2 transition-all duration-500">
                The Memory Nook
            </h1>
            <p id="pageSubtitle" class="handwritten text-2xl md:text-4xl text-amber-700 opacity-90 transition-all duration-500 delay-100">
                Sweetest memories first...
            </p>
            <div id="headerIcon" class="absolute -top-4 -right-7 text-amber-400/30 animate-bounce duration-[3000ms]">
                <i class="fa-solid fa-camera-retro fa-2xl text-amber-400"></i>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4">
        <section class="flex flex-col gap-6 mb-12 items-center">
            <div id="catList" class="flex gap-3 overflow-x-auto no-scrollbar w-full px-4 md:justify-center py-2">
                <button onclick="updateSpace('all', this)" class="space-btn active flex-shrink-0 bg-white border-2 border-amber-400 px-6 py-2.5 rounded-full font-bold text-amber-900 shadow-md transition-all duration-300">
                    <i class="fa-solid fa-house-chimney mr-2 text-xs"></i>All
                </button>
                <button onclick="updateSpace('honey', this)" class="space-btn flex-shrink-0 bg-white/60 backdrop-blur-sm px-6 py-2.5 rounded-full font-bold text-stone-500 hover:bg-white transition-all duration-300">
                    <i class="fa-solid fa-heart mr-2 text-rose-400 text-xs"></i>Honey
                </button>
                <button onclick="updateSpace('nature', this)" class="space-btn flex-shrink-0 bg-white/60 backdrop-blur-sm px-6 py-2.5 rounded-full font-bold text-stone-500 hover:bg-white transition-all duration-300">
                    <i class="fa-solid fa-leaf mr-2 text-emerald-400 text-xs"></i>Nature
                </button>
                <button onclick="updateSpace('food', this)" class="space-btn flex-shrink-0 bg-white/60 backdrop-blur-sm px-6 py-2.5 rounded-full font-bold text-stone-500 hover:bg-white transition-all duration-300">
                    <i class="fa-solid fa-utensils mr-2 text-orange-400 text-xs"></i>Food
                </button>
            </div>

            <div class="flex items-center gap-3 w-full max-w-sm">
                <div class="flex-1 relative">
                    <select id="monthSelect" onchange="applyFilters()" class="w-full bg-white border-2 border-white rounded-2xl px-4 py-3 font-bold text-amber-900 shadow-sm focus:border-amber-400 outline-none transition-all appearance-none text-center">
                        <option value="0">January</option>
                        <option value="1">February</option>
                        <option value="2">March</option>
                        <option value="3">April</option>
                        <option value="4">May</option>
                        <option value="5">June</option>
                        <option value="6">July</option>
                        <option value="7">August</option>
                        <option value="8">September</option>
                        <option value="9">October</option>
                        <option value="10">November</option>
                        <option value="11">December</option>
                    </select>
                    <i class="fa-solid fa-chevron-down absolute right-4 top-1/2 -translate-y-1/2 text-amber-500 pointer-events-none text-xs"></i>
                </div>
                <div class="flex-1 relative">
                    <select id="yearSelect" onchange="applyFilters()" class="w-full bg-white border-2 border-white rounded-2xl px-4 py-3 font-bold text-amber-900 shadow-sm focus:border-amber-400 outline-none transition-all appearance-none text-center">
                        <option value="2026">2026</option>
                    </select>
                    <i class="fa-solid fa-chevron-down absolute right-4 top-1/2 -translate-y-1/2 text-amber-500 pointer-events-none text-xs"></i>
                </div>
            </div>
        </section>

        <div id="photoGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12 pb-20"></div>
    </main>

    <script>
        const rawPaths = [
            "honey/PhotoBooth_2026-02-27.jpg",
            "honey/PhotoBooth_2026-02-27.mp4",
            "honey/Photo_Booth_2026-02-27.jpg",
            "honey/Photo_Booth_2026-02-27.mp4"
        ];

        let activeCat = 'all';

        const photoLibrary = rawPaths.map(path => {
            const parts = path.split('/');
            const folder = parts[0];
            const file = parts[1];
            
            const dateMatch = file.match(/(\d{4}-\d{1,2}-\d{1,2})/);
            
            const title = file.replace(/_?\d{4}-\d{1,2}-\d{1,2}\.(jpg|mp4)$/, '').replace(/_/g, ' ');
            
            const dateObj = new Date(dateMatch ? dateMatch[0] : "2026-01-01");

            return {
                src: `./images/${path}`,
                category: folder,
                title,
                date: dateObj,
                isVideo: path.endsWith('.mp4')
            };
        });

        function openDetail(src, title, date, cat, isVideo) {
            const modal = document.getElementById('detailModal');
            const container = document.getElementById('modalContainer');
            
            if(isVideo) {
                container.innerHTML = `<video src="${src}" class="w-full h-full object-contain" controls autoplay playsinline></video>`;
            } else {
                container.innerHTML = `<img src="${src}" class="w-full h-full object-cover">`;
            }
            
            document.getElementById('modalTitle').innerText = title;
            document.getElementById('modalDate').innerText = date;
            document.getElementById('modalCat').innerText = cat;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeDetail() {
            const modal = document.getElementById('detailModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            document.getElementById('modalContainer').innerHTML = '';
        }

        function updateSpace(cat, btn) {
            activeCat = cat;
            document.querySelectorAll('.space-btn').forEach(b => {
                b.className = 'space-btn flex-shrink-0 bg-white/60 backdrop-blur-sm px-6 py-2.5 rounded-full font-bold text-stone-500 hover:bg-white transition-all duration-300';
            });
            btn.className = 'space-btn active flex-shrink-0 bg-white border-2 border-amber-400 px-6 py-2.5 rounded-full font-bold text-amber-900 shadow-md transition-all duration-300';

            const themes = {
                honey: { bg: 'theme-honey', t: "Honey's Moments", s: "The highlight of my days...", i: 'fa-heart text-rose-400' },
                nature: { bg: 'theme-nature', t: "Fresh Escapes", s: "Breathing in the silence...", i: 'fa-tree text-emerald-400' },
                food: { bg: 'theme-food', t: "Flavor Files", s: "Every bite is a memory...", i: 'fa-utensils text-orange-400' },
                all: { bg: 'bg-honey-lemon', t: "The Memory Nook", s: "Sweetest memories first...", i: 'fa-camera-retro text-amber-400' }
            };

            const theme = themes[cat] || themes.all;
            const mainBody = document.getElementById('mainBody');
            mainBody.className = `${theme.bg} min-h-screen pb-12`;
            document.getElementById('pageTitle').innerText = theme.t;
            document.getElementById('pageSubtitle').innerText = theme.s;
            document.getElementById('headerIcon').innerHTML = `<i class="fa-solid ${theme.i} fa-2xl"></i>`;

            applyFilters();
        }

        function applyFilters() {
            const m = parseInt(document.getElementById('monthSelect').value);
            const y = parseInt(document.getElementById('yearSelect').value);
            const filtered = photoLibrary.filter(p => 
                (activeCat === 'all' || p.category === activeCat) && 
                p.date.getMonth() === m && 
                p.date.getFullYear() === y
            );
            render(filtered);
        }

        function render(data) {
            const grid = document.getElementById('photoGrid');
            grid.innerHTML = '';

            if (data.length === 0) {
                grid.innerHTML = `
                    <div class="col-span-full py-20 text-center text-amber-900/30 animate-pulse">
                        <i class="fa-solid fa-photo-film fa-3xl mb-4"></i>
                        <p class="font-bold">No snapshots for this month!</p>
                    </div>`;
                return;
            }

            data.forEach((photo, index) => {
                const card = document.createElement('div');
                const dateStr = photo.date.toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' });
                
                card.className = `polaroid-card bg-white p-3 pb-12 rounded-sm shadow-xl relative border-b-[18px] border-white group`;
                card.style.animationDelay = `${index * 0.05}s`;
                card.onclick = () => openDetail(photo.src, photo.title, dateStr, photo.category, photo.isVideo);
                
                let mediaElement = '';
                if(photo.isVideo) {
                    mediaElement = `
                        <video src="${photo.src}" class="w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-700" 
                               autoplay muted loop playsinline>
                        </video>
                        <i class="fa-solid fa-video absolute top-3 right-3 text-white/70 bg-black/30 p-2 rounded-full text-xs"></i>
                    `;
                } else {
                    mediaElement = `<img src="${photo.src}" class="w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-700" loading="lazy">`;
                }

                card.innerHTML = `
                    <div class="aspect-[4/5] overflow-hidden bg-stone-50 relative">
                        ${mediaElement}
                    </div>
                    <div class="mt-5 text-center px-2">
                        <h3 class="handwritten text-3xl text-stone-800 tracking-tight">${photo.title}</h3>
                        <p class="text-[9px] uppercase tracking-[0.2em] font-black text-amber-600/40 mt-2">${dateStr}</p>
                    </div>`;
                grid.appendChild(card);
            });
        }

        window.onload = () => {
            document.getElementById('monthSelect').value = "1"; // February
            document.getElementById('yearSelect').value = "2026";
            applyFilters();
        };
    </script>
</body>
</html>